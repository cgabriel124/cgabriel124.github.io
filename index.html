<!DOCTYPE html>
<html>
<head>
  <title>Golden Anime</title>
  <link rel="stylesheet" type="text/css" href="/styles/signup4Styles.css">
</head>
<body>
  <h1>Registro de Usuario</h1>
  <form action="procesar_registro.php" method="POST">
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required>

    <label for="password">Contraseña:</label>
    <input type="password" id="password" name="password" required>

    <label for="confirm_password">Confirmar Contraseña:</label>
    <input type="password" id="confirm_password" name="confirm_password" required>

    <input type="submit" value="Registrarse">
  </form>
  
  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.21.0/firebase-app.js";
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.21.0/firebase-auth.js";
    import { getAuth, createUserWithEmailAndPassword } from "firebase/auth";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyDucz-SMM5igy0gHxoJ3Dwxk0B7nTgQI-M",
      authDomain: "test-316c4.firebaseapp.com",
      projectId: "test-316c4",
      storageBucket: "test-316c4.appspot.com",
      messagingSenderId: "150243191496",
      appId: "1:150243191496:web:222644ff3bf06a769b53fd"
    };
  
    // Initialize Firebase
    //alv
    const email="christian.nazate@epn.edu.ec"
    const password="12345678";


    const app = initializeApp(firebaseConfig);
    const form = document.querySelector('form');
    const passwordInput = document.getElementById('password');
    const confirmInput = document.getElementById('confirm_password');

form.addEventListener('submit', function(event) {
  if (passwordInput.value !== confirmInput.value) {
    event.preventDefault(); // Evita que el formulario se envíe

    // Muestra un mensaje de error
    const error = document.createElement('p');
    error.textContent = 'Las contraseñas no coinciden';
    error.style.color = 'red';
    form.appendChild(error);

    // Resalta los campos de contraseña
    passwordInput.style.borderColor = 'red';
    confirmInput.style.borderColor = 'red';
  }
});
    
  
    const auth = getAuth();
  createUserWithEmailAndPassword(auth, email, password).then((userCredential) => {
      // Signed in
      const user = userCredential.user;
      // ...
    })
    .catch((error) => {
      const errorCode = error.code;
      const errorMessage = error.message;
      // ..
    });
  
  </script>
  
</body>
</html>